# HTTP 接口规范与状态码

## 接口鉴权
使用smartassistant接口，需将用户凭证smart-assistant-token，放在http请求的header中。格式如下:
```
"smart-assistant-token":"xxx"
```

## 返回标准数据结构
smartassistant接口均返回JSON格式数据,格式如下:
```
{
"status":0,  // 状态码
"reason":"", // 状态码描述
"data":{}    // 所有业务数据返回都包含在data对象中
}
```

## 错误码列表
### 通用
**0: 成功**  
**1: 服务器异常**  
**2: 错误请求**  
**3: 找不到资源**
### 家庭/物业
**1000: 该家庭不存在**  
**1001: 当前家庭创建者不允许退出家庭**  
**1002: 请输入家庭名称**  
**1003: 家庭名称长度不能超过30**  
**1004: SA绑定失败**
### 设备
**2000: 设备已被添加**  
**2001: 设备已被绑定**  
**2002: 请输入设备名称**  
**2003: 设备名称长度不能超过20**  
**2004: 该设备不存在**  
**2005: 当前用户未绑定该设备**  
**2006: 数据同步失败,请重试**  
**2007: 数据已同步,禁止多次同步数据**
### 房间/位置
**3000: 该房间不存在**  
**3001: 请输入房间名称**  
**3002: 房间名称长度不能超过20**  
**3003: 房间名称重复**
### 场景
**4000: 与其他场景重名,请修改**  
**4001: 场景名称长度不能超过40**  
**4002: 场景触发条件不存在**  
**4003: 场景不存在**  
**4004: 您没有创建场景的权限**  
**4005: 您没有删除场景的权限**  
**4006: 场景类型不允许修改**  
**4007: 场景触发条件类型与配置不一致**  
**4008: 定时触发条件只能添加一个**  
**4009: 任务类型错误**  
**4010: 设备操作类型不存在**  
**4011: 设备操作未设置**  
**4012: 没有场景或设备的控制权限**  
**4013: 设备断连**  
**4014: %s不正确**
### 用户
**5000: 用户名不存在**  
**5001: 用户名或密码错误**  
**5002: 用户不能删除自己**  
**5003: 用户不存在**  
**5004: 当前用户名已存在,请重新输入**  
**5005: 请输入用户名**  
**5006: 用户名只能输入数字、字母、下划线，不能全部是数字**  
**5007: 请输入昵称**  
**5008: 昵称长度不能大于20位**  
**5009: 昵称长度不能小于6为**  
**5010: 请输入密码**  
**5011: 密码不能少于6位**  
**5012: 用户未登录**  
**5013: 二维码无效**  
**5014: 二维码已过期**  
**5015: 二维码创建者无权限**  
**5016: 获取二维码失败**  
**5017: 该角色不存在**  
**5018: 该角色已存在,请重新输入**  
**5019: 请输入角色名称**  
**5020: 角色名称不能超过20位**  
**5021: 当前用户没有权限**  

